{"version":3,"sources":["components/images/PetFriendlyLogo.png","apis/index.js","components/public/Home.js","components/public/LogIn.js","components/public/SignUp.js","components/private/Navbar.js","components/private/FeedCard.js","components/private/FriendCard.js","components/private/UserPage.js","components/private/Profile.js","components/routeComponents/auth/privateRoute.js","components/App.js","index.js"],"names":["module","exports","api","axios","create","baseURL","storedUser","localStorage","getItem","loggedInUser","JSON","parse","interceptors","request","use","config","headers","Authorization","token","Home","props","useState","email","password","history","useHistory","className","onClick","push","LogIn","state","setState","handleChange","event","tempState","currentTarget","name","value","handleSubmit","a","preventDefault","console","log","post","result","stringify","data","setItem","error","id","onSubmit","htmlFor","type","placeholder","onChange","required","autoFocus","to","SignUp","image","src","Logo","alt","Navbar","class","variant","href","FeedCard","form","allPosts","feed","posts","user","_id","map","el","i","key","adoption","Card","style","borderRadius","Img","Body","Button","handleLike","likes","length","handleComments","comments","petName","userID","FriendCard","allFriends","friends","friendProfile","friendID","split","deleteFriend","delete","border","ListGroup","cursor","deleteOpt","UserPage","about","setForm","profile","useEffect","patch","Form","Group","controlId","Label","Control","plaintext","Text","as","rows","Profile","page","pageState","setProfile","setFeed","profileID","match","params","get","response","deletePost","postID","Title","size","Row","Col","defaultValue","Check","label","PrivateRoute","Component","component","rest","render","App","setLoggedInUser","parsedUser","forceRefresh","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e6fdfb7f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/PetFriendlyLogo.69e3d1db.png\";","import axios from \"axios\";\r\n\r\n// Criando uma instancia \"pré-configurada\" do Axios, com a raiz do endereço do nosso servidor\r\nconst api = axios.create({\r\n  baseURL: \"https://ironhack-project-3-petfriendly.herokuapp.com/api\",\r\n  // Acesso Local\r\n  // baseURL: \"http://localhost:3000/api\",\r\n});\r\n\r\nconst storedUser = localStorage.getItem(\"loggedInUser\");\r\n\r\n// Parse converte de linha única para objeto, mais legível (contrário do stringify usado no Home.js)\r\nconst loggedInUser = JSON.parse(storedUser || '\"\"');\r\n\r\n// Intercepta a comunicação entre front e back e acrescenta no cabeçalho da requisição HTTP o token (o que funciona como o Cookie) do tipo bearer\r\napi.interceptors.request.use((config) => {\r\n  config.headers = {\r\n    Authorization: `Bearer ${loggedInUser.token}`,\r\n  };\r\n\r\n  return config;\r\n});\r\n\r\nexport default api;\r\n","import React, { useState } from \"react\";\r\nimport api from \"../../apis/index.js\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport Logo from \"../images/PetFriendlyLogo.png\";\r\nimport \"./Home.css\";\r\n\r\nfunction Home(props) {\r\n  const [state, setState] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  function goLogIn() {\r\n    history.push(\"/login\");\r\n  }\r\n\r\n  function goSignUp() {\r\n    history.push(\"/signup\");\r\n  }\r\n\r\n  let history = useHistory();\r\n\r\n  function handleChange(event) {\r\n    const tempState = { ...state };\r\n\r\n    tempState[event.currentTarget.name] = event.currentTarget.value;\r\n\r\n    setState(tempState);\r\n  }\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    console.log(state);\r\n    try {\r\n      const result = await api.post(\"/login\", state);\r\n      console.log(JSON.stringify(result.data));\r\n      localStorage.setItem(\"loggedInUser\", JSON.stringify(result.data));\r\n      history.push(\"/profile\");\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"home-card\"></div>\r\n      <div className=\"row\">\r\n        <div className=\"home-first-square first-img col-12\">\r\n          <div className=\"logo-div\">\r\n            <div className=\"logo-height\">\r\n              <h1 className=\"home-logo title-color-2 mx-5\">Pet</h1>\r\n              <h1 className=\"home-logo title-color-2 mx-5\">Friend.ly</h1>\r\n            </div>\r\n            <div className=\"d-flex flex-column\">\r\n              <a onClick={goLogIn} className=\"home-button\">\r\n                Log In\r\n              </a>\r\n              <a onClick={goSignUp} className=\"home-button\">\r\n                Sign Up\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"home-small-square third-img col-12 col-md-6 col-lg-4\">\r\n          <h1 className=\"home-title title-color-1\">Adopt a Pet</h1>\r\n        </div>\r\n        <div className=\"home-small-square sec-img col-12 col-md-6 col-lg-4\">\r\n          <h1 className=\"home-title title-color-2\">Make Friends</h1>\r\n        </div>\r\n        <div className=\"home-small-square fourth-img col-12 col-md-12 col-lg-4\">\r\n          <h1 className=\"home-title title-color-3\">Find Cute Pictures</h1>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport api from \"../../apis/index\";\r\n\r\nfunction LogIn() {\r\n  const [state, setState] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  let history = useHistory();\r\n\r\n  function handleChange(event) {\r\n    const tempState = { ...state };\r\n\r\n    tempState[event.currentTarget.name] = event.currentTarget.value;\r\n\r\n    setState(tempState);\r\n  }\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    console.log(state);\r\n    try {\r\n      const result = await api.post(\"/login\", state);\r\n      console.log(JSON.stringify(result.data));\r\n      localStorage.setItem(\"loggedInUser\", JSON.stringify(result.data));\r\n      history.push(\"/profile\");\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"form-height d-flex align-items-center\" id=\"background\">\r\n      {/* Formulário de LogIn */}\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"mx-auto my-auto\">\r\n            <div className=\"card card-signin my-5\">\r\n              <div className=\"card-body\">\r\n                <h4 className=\"card-title text-center\">Log In</h4>\r\n                <form className=\"form-signin\" onSubmit={handleSubmit}>\r\n                  <div className=\"form-label-group pb-2\">\r\n                    <label htmlFor=\"inputEmail\">Email address</label>\r\n                    <input\r\n                      type=\"email\"\r\n                      id=\"inputEmail\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"\"\r\n                      name=\"email\"\r\n                      onChange={handleChange}\r\n                      value={state.email}\r\n                      required\r\n                      autoFocus\r\n                    />\r\n                  </div>\r\n                  <label htmlFor=\"inputPassword\">Password</label>\r\n                  <div className=\"form-label-group pb-2\">\r\n                    <input\r\n                      type=\"password\"\r\n                      id=\"inputPassword\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"\"\r\n                      name=\"password\"\r\n                      onChange={handleChange}\r\n                      value={state.password}\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"custom-control custom-checkbox mb-2\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      className=\"custom-control-input\"\r\n                      id=\"customCheck1\"\r\n                    />\r\n                    <label\r\n                      className=\"custom-control-label\"\r\n                      htmlFor=\"customCheck1\"\r\n                    >\r\n                      Remember password\r\n                    </label>\r\n                  </div>\r\n                  <button\r\n                    className=\"btn btn-lg btn-color btn-hover btn-block mb-3\"\r\n                    type=\"submit\"\r\n                  >\r\n                    Log in\r\n                  </button>\r\n\r\n                  <label className=\"d-flex justify-content-center\">\r\n                    Don't have an account?\r\n                  </label>\r\n                  <Link\r\n                    className=\"btn btn-lg btn-color btn-hover btn-block\"\r\n                    type=\"submit\"\r\n                    to=\"/signup\"\r\n                  >\r\n                    Sign Up\r\n                  </Link>\r\n                  <Link\r\n                    className=\"btn btn-lg btn-secondary btn-hover btn-block\"\r\n                    type=\"submit\"\r\n                    to=\"/\"\r\n                  >\r\n                    Back to Home\r\n                  </Link>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LogIn;\r\n","import React, { useState } from \"react\";\r\nimport api from \"../../apis/index\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Logo from \"../images/PetFriendlyLogo.png\";\r\n\r\nfunction SignUp() {\r\n  const [state, setState] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    image: \"\",\r\n  });\r\n\r\n  function handleChange(event) {\r\n    const tempState = { ...state };\r\n    tempState[event.currentTarget.name] = event.currentTarget.value;\r\n    setState(tempState);\r\n  }\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    console.log(state);\r\n    try {\r\n      const result = await api.post(\"/signup\", state);\r\n      console.log(result);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"home-background\"></div>\r\n\r\n      <div className=\"div-card row justify-content-center\">\r\n        <div className=\"max-height pb-2 col-12 col-md-6 order-md-2\">\r\n          <img className=\"logo-height\" src={Logo} alt=\"\"></img>\r\n\r\n          <div\r\n            className=\"form-height d-flex align-items-center\"\r\n            id=\"background\"\r\n          >\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"mx-auto my-auto\">\r\n                  <div className=\"card card-signup my-5\">\r\n                    <div className=\"card-body\">\r\n                      <h4 className=\"card-title text-center\">Sign Up</h4>\r\n                      <form className=\"form-signin\" onSubmit={handleSubmit}>\r\n                        <div className=\"form-label-group pb-2\">\r\n                          <label>Human name</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            id=\"inputText\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"\"\r\n                            name=\"name\"\r\n                            onChange={handleChange}\r\n                            value={state.name}\r\n                            required\r\n                            autoFocus\r\n                          />\r\n                        </div>\r\n                        <div className=\"form-label-group pb-2\">\r\n                          <label>Email address</label>\r\n                          <input\r\n                            type=\"email\"\r\n                            id=\"inputEmail\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"\"\r\n                            name=\"email\"\r\n                            onChange={handleChange}\r\n                            value={state.email}\r\n                            required\r\n                          />\r\n                        </div>\r\n                        <label>Password</label>\r\n                        <div className=\"form-label-group pb-1\">\r\n                          <input\r\n                            type=\"password\"\r\n                            id=\"inputPassword\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"\"\r\n                            name=\"password\"\r\n                            onChange={handleChange}\r\n                            value={state.password}\r\n                            required\r\n                          />\r\n                        </div>\r\n                        <label>Image</label>\r\n                        <div className=\"form-label-group pb-3\">\r\n                          <input\r\n                            type=\"text\"\r\n                            id=\"inputImage\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Insert URL image\"\r\n                            name=\"image\"\r\n                            onChange={handleChange}\r\n                            value={state.image}\r\n                            required\r\n                          />\r\n                        </div>\r\n                        {/* <div className=\"custom-control custom-checkbox\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"custom-control-input\"\r\n                    id=\"customCheck1\"\r\n                  />\r\n                </div> */}\r\n                        <button\r\n                          className=\"btn btn-lg btn-color btn-hover btn-block mb-3\"\r\n                          type=\"submit\"\r\n                        >\r\n                          Create account\r\n                        </button>\r\n                        <Link\r\n                          className=\"btn btn-lg btn-secondary btn-hover btn-block\"\r\n                          type=\"submit\"\r\n                          to=\"/\"\r\n                        >\r\n                          Back to Home\r\n                        </Link>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignUp;\r\n","import React, { useState, useEffect } from \"react\";\r\n// import { useHistory } from \"react-router-dom\";\r\n// import Button from \"react-bootstrap/Button\";\r\n// import Form from \"react-bootstrap/Form\";\r\n// import Col from \"react-bootstrap/Col\";\r\n// import api from \"../../apis/index.js\";\r\nimport \"./Navbar.css\";\r\n\r\nfunction Navbar(props) {\r\n  return (\r\n    <div className=\"\">\r\n      <div className=\"header-navbar\">\r\n        <div className=\"\">\r\n          <button className=\"add-post-btn btn-color btn-hover pt-3\">\r\n            <i class=\"fas fa-plus\"></i>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"header-middle-nav\">\r\n          <button\r\n            className=\"header-button-nav\"\r\n            //   onClick={changeTab}\r\n            id=\"home\"\r\n          >\r\n            <i className=\"fas fa-home\"></i>\r\n          </button>\r\n          <button\r\n            className=\"header-button-nav\"\r\n            //   onClick={changeTab}\r\n            id=\"posts\"\r\n          >\r\n            <i className=\"fas fa-clone\"></i>\r\n          </button>\r\n          <button\r\n            className=\"header-button-nav\"\r\n            //   onClick={changeTab}\r\n            id=\"profile\"\r\n          >\r\n            <i className=\"fas fa-user-cog\"></i>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"header-top\">\r\n          <button\r\n            className=\"logout-button btn-color btn-hover pb-3\"\r\n            variant=\"primary\"\r\n            //   onClick={handleLogout}\r\n          >\r\n            <i className=\"fas fa-sign-out-alt\" href=\"/logout\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React, { useState } from \"react\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\n// import ModalTextAdopt from \"./ModalTextAdopt\";\r\n// import ModalFormAdopt from \"./ModalFormAdopt\";\r\nimport \"./FeedCard.css\";\r\n\r\nfunction FeedCard(props) {\r\n  // const [modalShow, setModalShow] = useState(false);\r\n  const [modalShow, setModalShow] = useState({ state: false, form: false });\r\n  const allPosts = props.feed.posts;\r\n\r\n  const userID = props.user._id;\r\n  if (typeof allPosts == \"undefined\") {\r\n    return <div></div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"header-line\"></div>\r\n      <div className=\"feed-card-margin row justify-content-center\">\r\n        {allPosts.map((el, i) => (\r\n          <div\r\n            key={`${i}`}\r\n            className={`${el.adoption ? \"adoption-background\" : \"\"}`}\r\n          >\r\n            <Card style={{ borderRadius: 8 }} className=\"feed-img-border\">\r\n              <Card.Img variant=\"top\" src={el.image} className=\"feed-img\" />\r\n              <Card.Body className=\"post-overlay\">\r\n                <Button\r\n                  className=\"button-interaction\"\r\n                  variant=\"primary\"\r\n                  id={el._id}\r\n                  onClick={props.handleLike}\r\n                >\r\n                  <i className=\"icon fas fa-paw\"></i> {el.likes.length}\r\n                  <span className=\"text-interaction\"> likes</span>\r\n                </Button>\r\n                <Button\r\n                  className=\"button-interaction\"\r\n                  variant=\"primary\"\r\n                  id={el._id}\r\n                  onClick={props.handleComments}\r\n                >\r\n                  <i className=\"icon fas fa-feather\"></i> {el.comments.length}\r\n                  <span className=\"text-interaction\"> comments</span>\r\n                </Button>\r\n                <div className=\"feedcard--change\">\r\n                {el.petName}\r\n                {el.userID.name}\r\n                </div>\r\n              </Card.Body>\r\n\r\n              {/* <div className=\"d-flex justify-content-between\">\r\n                  <Card.Subtitle className=\"mb-2 pet-name-text\">\r\n                    {el.petName}\r\n                  </Card.Subtitle>\r\n\r\n                  {el.userID.name ? (\r\n                    <Card.Subtitle className=\"mb-2\">\r\n                      <span className=\"text-muted\">by </span>\r\n                      <img\r\n                        src={el.userID.image}\r\n                        className=\"image-post-creator\"\r\n                      ></img>\r\n                      {el.userID.name}\r\n                    </Card.Subtitle>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </div> */}\r\n\r\n              {/* <Card.Text>{el.description}</Card.Text>\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <div className=\"\">\r\n                    <Button\r\n                      className=\"button-interaction\"\r\n                      variant=\"primary\"\r\n                      id={el._id}\r\n                      onClick={props.handleLike}\r\n                    >\r\n                      <i className=\"icon far fa-heart\"></i>\r\n                      {el.likes.length}\r\n                      <span className=\"text-interaction\"> likes</span>\r\n                    </Button>\r\n                    <Button\r\n                      className=\"button-interaction\"\r\n                      variant=\"primary\"\r\n                      id={el._id}\r\n                      onClick={props.handleComments}\r\n                    >\r\n                      <i className=\"icon fas fa-feather\"></i>\r\n                      {el.comments.length}\r\n                      <span className=\"text-interaction\"> comments</span>\r\n                    </Button>\r\n                    <Button className=\"button-interaction\" variant=\"primary\">\r\n                      <i className=\"icon fas fa-egg\"></i>\r\n                      <span className=\"text-interaction\"> share</span>\r\n                    </Button>\r\n                  </div>\r\n                  <div>\r\n                    {el.userID === userID ? (\r\n                      <>\r\n                        <Button\r\n                          variant=\"danger\"\r\n                          id={el._id}\r\n                          onClick={props.deletePost}\r\n                        >\r\n                          Delete\r\n                        </Button>\r\n                      </>\r\n                    ) : el.adoption ? (\r\n                      <>\r\n                        <Button\r\n                          className=\"\"\r\n                          variant=\"primary\"\r\n                          onClick={() =>\r\n                            setModalShow({ ...modalShow, state: true })\r\n                          }\r\n                        >\r\n                          Adopt\r\n                        </Button>\r\n                        <ModalTextAdopt\r\n                          show={modalShow.state}\r\n                          onHide={() =>\r\n                            setModalShow({ ...modalShow, state: false })\r\n                          }\r\n                          onAccept={() =>\r\n                            setModalShow({ form: true, state: false })\r\n                          }\r\n                        />\r\n                        <ModalFormAdopt\r\n                          show={modalShow.form}\r\n                          user={props.user}\r\n                          pet={el}\r\n                          onHide={() =>\r\n                            setModalShow({ ...modalShow, form: false })\r\n                          }\r\n                        />\r\n                      </>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                </div> */}\r\n            </Card>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FeedCard;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport api from \"../../apis/index.js\";\r\nimport \"./FriendCard.css\";\r\n\r\nfunction FriendCard(props) {\r\n  let history = useHistory();\r\n  const allFriends = props.friends;\r\n\r\n  if (typeof allFriends == \"undefined\" || !allFriends.length) {\r\n    return <div></div>;\r\n  }\r\n\r\n  const friendProfile = (event) => {\r\n    const friendID = event.currentTarget.id.split(\"-\")[1];\r\n    history.push(`/profile/${friendID}`);\r\n  };\r\n\r\n  const deleteFriend = async (event) => {\r\n    const friendID = event.currentTarget.id.split(\"-\")[1];\r\n    await api.delete(`/friend/${friendID}`);\r\n  };\r\n\r\n  return (\r\n    <Card className=\"rounded-corners\" border=\"none\">\r\n      <ListGroup>\r\n        {allFriends.map((el, i) => (\r\n          <div key={i}>\r\n            <div className=\"d-flex\">\r\n              <button\r\n                className=\"btn-friends\"\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={friendProfile}\r\n                id={`goto-${el._id}`}\r\n              >\r\n                <img\r\n                  className=\"friends-img\"\r\n                  src={el.image}\r\n                  alt={`${el.name}`}\r\n                />\r\n                <span className=\"pl-3\">{el.name}</span>\r\n              </button>\r\n            </div>\r\n\r\n            {props.deleteOpt ? (\r\n              <Button\r\n                className=\"btn-hover\"\r\n                id={`delete-${el._id}`}\r\n                onClick={deleteFriend}\r\n              >\r\n                Delete\r\n              </Button>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        ))}\r\n      </ListGroup>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default FriendCard;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n// import Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\n\r\nimport FriendCard from \"./FriendCard\";\r\n\r\nimport api from \"../../apis/index.js\";\r\n\r\nfunction UserPage(props) {\r\n  const [form, setForm] = useState({\r\n    email: \"\",\r\n    name: \"\",\r\n    password: \"\",\r\n    image: \"\",\r\n    about: \"\",\r\n  });\r\n\r\n  let history = useHistory();\r\n\r\n  const profile = props.profile;\r\n\r\n  useEffect(() => {\r\n    setForm({\r\n      email: profile.email,\r\n      name: profile.name,\r\n      image: profile.image,\r\n      about: profile.about,\r\n      password: \"••••••••\",\r\n    });\r\n  }, [profile.about, profile.email, profile.image, profile.name]);\r\n\r\n  function handleChange(event) {\r\n    const tempState = { ...form };\r\n\r\n    tempState[event.currentTarget.name] = event.currentTarget.value;\r\n\r\n    setForm(tempState);\r\n  }\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      await api.patch(\"/user\", form);\r\n      history.push(\"/\");\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"div-card\">\r\n      <Form onSubmit={handleSubmit}>\r\n        <Form.Group controlId=\"formImage\">\r\n          <img className=\"friends-image\" src={form.image} alt=\"profile\" />\r\n          <Form.Label>Image</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"image\"\r\n            placeholder={form.image}\r\n            onChange={handleChange}\r\n            value={form.image}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"formEmail\">\r\n          <Form.Label>Email address</Form.Label>\r\n          <Form.Control name=\"email\" placeholder={form.email} plaintext />\r\n          <Form.Text className=\"text-muted\"></Form.Text>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"formPassword\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"••••••••\"\r\n            onChange={handleChange}\r\n            value={form.password}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"formAbout\">\r\n          <Form.Label>About</Form.Label>\r\n          <Form.Control\r\n            as=\"textarea\"\r\n            rows={3}\r\n            name=\"about\"\r\n            onChange={handleChange}\r\n            value={form.about}\r\n          />\r\n        </Form.Group>\r\n        <Button className=\"mb-3\" variant=\"primary\" type=\"submit\">\r\n          Submit\r\n        </Button>\r\n\r\n        <FriendCard deleteOpt={true} />\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserPage;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Navbar from \"./Navbar\";\r\nimport FeedCard from \"./FeedCard\";\r\nimport FriendCard from \"./FriendCard\";\r\nimport UserPage from \"./UserPage\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport api from \"../../apis/index.js\";\r\n// import Logo from \"../images/PetFriendlyLogo.png\";\r\n// import ModalCreatePost from \"./ModalCreatePost\";\r\nimport \"./Profile.css\";\r\n\r\nfunction Profile(props) {\r\n  const [modal, setModal] = useState(false);\r\n\r\n  const [pageState, setPageState] = useState({ page: \"home\" });\r\n\r\n  const [profile, setProfile] = useState({});\r\n\r\n  const [feed, setFeed] = useState({});\r\n\r\n  let history = useHistory();\r\n\r\n  const doge = {\r\n    adoption: false,\r\n    comments: [\r\n      \"5f8b4ee70f79632ff06e33cf\",\r\n      \"5f8b4ee80f79632ff06e403b\",\r\n      \"5f8b4ee90f79632ff06e4905\",\r\n      \"5f8b4ee90f79632ff06e4b84\",\r\n      \"5f8b4eea0f79632ff06e4f8c\",\r\n    ],\r\n    description: \"Many description. Such website. Much wow. \",\r\n    image:\r\n      \"https://i.pinimg.com/originals/18/5c/ae/185cae8f0e4a7d6d5f3bb29f23b8cd1d.jpg\",\r\n    likes: [\r\n      \"5f8b4ced0f79632ff06e2681\",\r\n      \"5f8b4ced0f79632ff06e26d2\",\r\n      \"5f8b4ced0f79632ff06e276c\",\r\n    ],\r\n    petName: \"Doge Dog\",\r\n    tag: [],\r\n    userID: \"5f8ccafa81c35c4e400c1d81\",\r\n  };\r\n\r\n  const { id } = { ...props.match.params };\r\n\r\n  const profileID = id;\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const response = await api.get(`/profile/${profileID}`);\r\n      setProfile(response.data);\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const response = await api.get(`/friendsposts/${profileID}`);\r\n      setFeed(response.data);\r\n    })();\r\n  }, []);\r\n\r\n  const changeTab = (event) => {\r\n    (async () => {\r\n      const eventID = event.currentTarget.id;\r\n\r\n      if (event.currentTarget.id === \"home\") {\r\n        const response = await api.get(`/friendsposts/${profileID}`);\r\n        const sorted = sortResponse(response);\r\n        const newFeed = [...sorted, doge];\r\n        setFeed({ posts: newFeed });\r\n        setPageState({ page: eventID });\r\n      } else if (event.currentTarget.id === \"posts\") {\r\n        const response = await api.get(\"/post\");\r\n        const sorted = sortResponse(response);\r\n        const newFeed = [...sorted, doge];\r\n        setFeed({ posts: newFeed });\r\n        setPageState({ page: eventID });\r\n        //\r\n      } else {\r\n        setPageState({ page: eventID });\r\n      }\r\n    })();\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.clear(\"loggedInUser\");\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const sortResponse = (response) => {\r\n    const sorted = response.data.posts.sort((a, b) => {\r\n      if (a.updatedAt > b.updatedAt) {\r\n        return -1;\r\n      }\r\n      if (a.updatedAt < b.updatedAt) {\r\n        return 1;\r\n      }\r\n      return 0;\r\n    });\r\n    return sorted;\r\n  };\r\n\r\n  const deletePost = async (event) => {\r\n    const postID = event.currentTarget.id;\r\n\r\n    try {\r\n      await api.delete(`/post/${postID}`);\r\n      // const result = await api.post(\"/post\", form);\r\n      // history.push(\"/profile\");\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleLike = async (event) => {\r\n    const postID = event.currentTarget.id;\r\n    try {\r\n      await api.post(`/postlike/${postID}`);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleComments = async (event) => {\r\n    const postID = event.currentTarget.id;\r\n\r\n    try {\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"background-frame\">\r\n      <Navbar />\r\n      {pageState.page !== \"profile\" ? (\r\n        <div className=\"\">\r\n          <Card className=\"profile-column p-3\">\r\n            {/* User section */}\r\n            <Card className=\"rounded-corners\">\r\n              <Card.Body className=\"profile-card-margin row justify-content-center\">\r\n                <Card.Img\r\n                  className=\"profile-img\"\r\n                  variant=\"top\"\r\n                  src={profile.image}\r\n                />\r\n                <Card.Title className=\"mt-2\">{profile.name}</Card.Title>\r\n                <div>\r\n                  <Card.Text className=\"mb-2\">{profile.about}</Card.Text>\r\n                </div>\r\n                <div className=\"\">\r\n                  {/* <Button\r\n                    className=\"\"\r\n                    variant=\"primary\"\r\n                    onClick={() => setModal(true)}\r\n                  >\r\n                    + Post\r\n                  </Button>\r\n                  <ModalCreatePost\r\n                    userID={profile._id}\r\n                    show={modal}\r\n                    onHide={() => setModal(false)}\r\n                  /> */}\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n\r\n            {/* Form */}\r\n            <Card className=\"my-3 rounded-corners\">\r\n              <Card.Body>\r\n                <Form>\r\n                  <Form.Group controlId=\"formGroupEmail\">\r\n                    <Form.Label>Find more Pets</Form.Label>\r\n                    <Form.Control\r\n                      size=\"sm\"\r\n                      type=\"text\"\r\n                      placeholder=\"Pet Name\"\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group controlId=\"formGroupEmail\">\r\n                    <Form.Control\r\n                      size=\"sm\"\r\n                      type=\"text\"\r\n                      placeholder=\"Distance\"\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Row>\r\n                    <Form.Group as={Col} controlId=\"formGridEmail\">\r\n                      <Form.Control\r\n                        size=\"sm\"\r\n                        type=\"email\"\r\n                        placeholder=\"Especies\"\r\n                      />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId=\"formGridState\">\r\n                      <Form.Control size=\"sm\" as=\"select\" defaultValue=\"Male\">\r\n                        <option>Male</option>\r\n                        <option>Female</option>\r\n                      </Form.Control>\r\n                    </Form.Group>\r\n                  </Form.Row>\r\n                  <Form.Group controlId=\"formBasicCheckbox\">\r\n                    <Form.Check type=\"checkbox\" label=\"Avaiable for Adoption\" />\r\n                  </Form.Group>\r\n                  <div className=\"d-flex justify-content-end\">\r\n                    <Button type=\"submit\" className=\"btn-color\">\r\n                      Submit\r\n                    </Button>\r\n                  </div>\r\n                </Form>\r\n              </Card.Body>\r\n            </Card>\r\n            <FriendCard deleteOpt={false} friends={profile.friends} />\r\n          </Card>\r\n          <div className=\"\">\r\n            {pageState.page === \"home\" ? (\r\n              <FeedCard\r\n                feed={feed}\r\n                user={profile}\r\n                handleComments={handleComments}\r\n                handleLike={handleLike}\r\n                deletePost={deletePost}\r\n              />\r\n            ) : pageState.page === \"posts\" ? (\r\n              <FeedCard\r\n                feed={feed}\r\n                user={profile}\r\n                handleComments={handleComments}\r\n                handleLike={handleLike}\r\n                deletePost={deletePost}\r\n              />\r\n            ) : (\r\n              <FeedCard feed={feed} />\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <UserPage\r\n          profile={profile}\r\n          setProfile={setProfile}\r\n          friends={profile.friends}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nfunction PrivateRoute({ component: Component, user, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        // console.log(user);\r\n        if (user._id) {\r\n          return <Component {...props} {...rest} loggedInUser={user} />;\r\n        } else {\r\n          // redirecionar para login\r\n          return <Redirect to=\"/\" />;\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\nexport default PrivateRoute;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\r\n\r\nimport \"./App.css\";\r\n\r\nimport Home from \"./public/Home\";\r\nimport LogIn from \"./public/LogIn.js\";\r\nimport SignUp from \"./public/SignUp.js\";\r\nimport Profile from \"./private/Profile.js\";\r\nimport PrivateRoute from \"./routeComponents/auth/privateRoute\";\r\n\r\nfunction App() {\r\n  const [loggedInUser, setLoggedInUser] = useState({});\r\n\r\n  useEffect(() => {\r\n    const storedUser = localStorage.getItem(\"loggedInUser\");\r\n    const parsedUser = JSON.parse(storedUser || '\"\"');\r\n    setLoggedInUser({ ...parsedUser.user });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"\">\r\n      <BrowserRouter forceRefresh={true}>\r\n        {loggedInUser._id ? (\r\n          <Switch>\r\n            <PrivateRoute\r\n              path=\"/profile/:id\"\r\n              component={Profile}\r\n              user={loggedInUser}\r\n            />\r\n            <Route>\r\n              <Redirect to={`/profile/${loggedInUser._id}`} />\r\n            </Route>\r\n          </Switch>\r\n        ) : (\r\n          <Switch>\r\n            <Route path=\"/login\" component={LogIn} />\r\n            <Route path=\"/signup\" component={SignUp} />\r\n            <Route path=\"/\" component={Home} />\r\n            <Route>\r\n              <Redirect to=\"/\" />\r\n            </Route>\r\n          </Switch>\r\n        )}\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}